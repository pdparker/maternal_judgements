TITLE: Mediation Mod for Math: Free Cross Paths
DATA: FILE = "../../data/mplus_imp.txt";
TYPE = IMPUTATION;
VARIABLE: 
NAMES = y3_weight y3_math_interest y3_math_judgement y5_math_interest
     y5_math_judgement y7_math_interest y7_math_judgement y3_math y5_math y7_math
     y3_math_sch y5_math_sch y7_math_sch y3_r_int y3_r_judge
     y5_r_int y5_r_judge y7_r_int y7_r_judge y3_read
     y5_read y7_read y3_read_sch y5_read_sch y7_read_sch gender ses geo indig lang
     y3_sid; 
MISSING=.;

USEVARIABLES ARE  y3_r_judge y5_r_judge y7_r_judge
				  y3_r_int y5_r_int y7_r_int
				  y3_read y5_read y7_read
				  gender ses geo indig lang;

WEIGHT ARE y3_weight;

CLUSTER y3_sid;

CATEGORICAL ARE 
	y5_r_judge y7_r_judge
	y5_r_int y7_r_int;

DEFINE:
STANDARDIZEses;

DEFINE:
STANDARDIZE ses y3_read y5_read y7_read y3_r_judge y3_r_int;

ANALYSIS: ESTIMATOR = WLSMV; TYPE = COMPLEX; PARAMETERIZATION = THETA;

MODEL:
y7_r_judge ON y5_r_judge y5_r_int y5_read;
y7_r_int  ON y5_r_judge y5_r_int y5_read;
y7_read           ON y5_r_judge y5_r_int y5_read;

y5_r_judge ON y3_r_judge y3_r_int y3_read;
y5_r_int  ON y3_r_judge y3_r_int y3_read;
y5_read           ON y3_r_judge y3_r_int y3_read;

y7_r_judge ON y3_r_judge;
y7_r_int  ON y3_r_int;
y7_read           ON y3_read;

y7_r_judge y7_r_int y7_read WITH
	y7_r_judge y7_r_int y7_read;

y5_r_judge y5_r_int y5_read WITH
	y5_r_judge y5_r_int y5_read;

y3_r_judge y3_r_int y3_read WITH
	y3_r_judge y3_r_int y3_read;

y3_r_judge-y7_read ON gender ses geo indig lang;


MODEL INDIRECT:
y5_read IND gender;
y7_read IND gender;

OUTPUT: stdyx; CINTERVAL; MODINDICES;